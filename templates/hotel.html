<!DOCTYPE html>
<html>
<head>
    <title>$hotel.hotelName</title>
    <script src="js/editAndDeleteReviews.js"></script>
    <style>
        /* Style for the overlay */
        .overlay {
            display: none;
        }

        /* Style for the modal */
        .modal {
            display: none;
        }
    </style>
</head>

<body>

<h5>Hello, $name! </h5>
<form method="post" action="/logout">
    <button type="submit">Logout</button>
</form>

<p>
    Hotel: $hotel.hotelName <br>
    Id: $hotel.id <br>
    Address: $hotel.address <br>
    Average Rating: $avgRating <br>
    Expedia: <a href="$expediaLink">$hotel.expediaLink</a> <br>
</p>

<h1>Reviews:<br></h1>
#foreach( $review in $reviews)
    <b>Review by $review.userNickname</b> <br>
    Submission Date: $review.submissionDate<br>
    <div id="reviewTitle_${review.reviewId}">
        $review.title
    </div> <br>
    <div id="reviewText_${review.reviewId}">
        $review.reviewText
    </div> <br>

    #if ($name.equals($review.userNickname))

        <form id="editForm" method="post" action="/editReview">
            <input type="hidden" name="reviewId" value="$review.reviewId">
            <input type="hidden" name="hotelId" value="$review.hotelId">
            <button type="button" onclick="openModal()">Edit Review</button>
        </form>

        <div id="overlay" class="overlay" onclick="closeModal()"></div>
        <div id="myModal" class="modal">
            <span onclick="closeModal()" style="cursor: pointer;">&times;</span>
            <input id="editedTitle" type="text" name="reviewTitle" value="$review.title">
            <textarea id="editedReview" name="editedReview" rows="4" required>Hello!</textarea>
            <button type="button" onclick="submitForm($review.reviewId, $review.hotelId)">Submit Edited Review</button>
        </div>


        <form method="post" action="/deleteReview">
            <input type="hidden" name="reviewId" value="$review.reviewId">
            <input type="hidden" name="hotelId" value="$review.hotelId">
            <button type="submit">Delete Review</button>
        </form>
    #end

#end

    <resource name="style1.css" type="download" location="style1.css"> </resource>

<form method="post" action="/hotel">
    Title:   <br> <input type="text" id="title" name="title" required> <br>
    Rating: <br> <input type="number" id="rating" name="rating" required min="0" max="5"> <br>
    Review: <br> <textarea id="review" name="review" rows="4" required></textarea> <br>
    <input type="submit" value="Submit Review">
</form>

</body>
</html>