<!DOCTYPE html>
<html>
<head>
    <title>$hotel.hotelName</title>
    <style>
        /* Style for the overlay */
        .overlay {
            display: none;
        }

        /* Style for the modal */
        .modal {
            display: none;
        }
    </style>
</head>

<body>

<h5>Hello, $name! </h5>
<form method="post" action="/logout">
    <button type="submit">Logout</button>
</form>

<p>
    Hotel: $hotel.hotelName <br>
    Id: $hotel.id <br>
    Address: $hotel.address <br>
    Average Rating: $avgRating <br>
    Expedia: <a href="$expediaLink">$hotel.expediaLink</a> <br>
</p>

<h1>Reviews:<br></h1>
#foreach( $review in $reviews)
    <b>Review by $review.userNickname</b> <br>
    Submission Date: $review.submissionDate<br>
    $review.title <br>
    $review.reviewText <br>

    #if ($name.equals($review.userNickname))

        <form id="editForm">
            <input type="hidden" name="reviewId" value="$review.id">
            <input type="hidden" name="hotelId" value="$review.hotelId">
            <button type="button" onclick="openModal()">Edit Review</button>
        </form>

        <div id="overlay" class="overlay" onclick="closeModal()"></div>
        <div id="myModal" class="modal">
            <span onclick="closeModal()" style="cursor: pointer;">&times;</span>
            <input type="text" name="editedReview" placeholder="Enter edited review">
            <button type="button" onclick="submitForm()">Submit Edited Review</button>
        </div>

        <script>
            function openModal() {
                document.getElementById("overlay").style.display = "block";
                document.getElementById("myModal").style.display = "block";
            }

            function closeModal() {
                document.getElementById("overlay").style.display = "none";
                document.getElementById("myModal").style.display = "none";
            }

            function submitForm() {
                // Add your form submission logic here
                document.querySelector('form').submit();
            }
        </script>


        <form method="post" action="/deleteReview">
            <input type="hidden" name="reviewId" value="$review.reviewId">
            <input type="hidden" name="hotelId" value="$review.hotelId">
            <button type="submit">Delete Review</button>
        </form>
    #end

#end

    <resource name="style1.css" type="download" location="style1.css"> </resource>

<form method="post" action="/hotel">
    Title:   <br> <input type="text" id="title" name="title" required> <br>
    Rating: <br> <input type="number" id="rating" name="rating" required min="0" max="5"> <br>
    Review: <br> <textarea id="review" name="review" rows="4" required></textarea> <br>
    <input type="submit" value="Submit Review">
</form>

</body>
</html>